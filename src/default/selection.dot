{{ if( !it ) { it = { error : '划词翻译发生了一个错误，请尝试重新翻译。', query : '发生错误，请重试' , api : { name:'发生错误' , linkToResult : '#' } }; } }}

{{ if (it.wait) { }}
<lmk-wait>{{= it.wait }}</lmk-wait>
{{ } else { }}

{{ var apiId = it.api.id; }}
<lmk-move>
    <lmk-icon-pin {{ if(ste.settings.alwaysShow){ }} class="lmk-pined" {{ } }} title="图钉"></lmk-icon-pin>
    <lmk-icon class="lmk-list">
        <lmk-icon-list></lmk-icon-list>
        <!-- 菜单 start -->
        <lmk-list>
            {{ if( apiId !== 'google' ) { }}
            <lmk-list-item data-lmk123-action="translate" data-lmk123-query="{{=it.query}}" data-api-id="google">
                查看谷歌翻译结果
            </lmk-list-item>
            {{ } }}
            {{ if( apiId !== 'youdao' ) { }}
            <lmk-list-item data-lmk123-action="translate" data-lmk123-query="{{=it.query}}" data-api-id="youdao">
                查看有道翻译结果
            </lmk-list-item>
            {{ } }}
            {{ if( apiId !== 'baidu' ) { }}
            <lmk-list-item data-lmk123-action="translate" data-lmk123-query="{{=it.query}}" data-api-id="baidu">
                查看百度翻译结果
            </lmk-list-item>
            {{ } }}
            <lmk-list-item data-lmk123-action="web">网页翻译</lmk-list-item>
        </lmk-list>
        <!-- 菜单 end -->
    </lmk-icon>
    <lmk-icon>
        <lmk-icon-setting title="打开设置"></lmk-icon-setting>
    </lmk-icon>
</lmk-move>
<lmk-content>

    {{ if( it.error ) { }}
        {{= it.error }}
    {{ } else { }}
    <lmk-phonetic>{{ if ( it.phonetic && it.phonetic.length < 50 ) { }}{{= it.phonetic }}{{ } }}{{ if( it.query.length <
        50 ) { }}
        <lmk-icon-play data-playtext="{{=it.query}}" data-apiid="{{= it.api.id }}" data-lang="{{= it.from || ''}}"></lmk-icon-play>
        {{ } }}
    </lmk-phonetic>

    {{ [ 'detailed','result'].forEach(function(key){ }}
    {{ if(it[key]){ }}
    <lmk-section>
        {{= it[key] }}
        <lmk-icon-copy></lmk-icon-copy>
        {{ if(key==='result'&&it.result.length<50) { }}
        <lmk-icon-play data-playtext="{{=it.result}}" data-apiid="{{= it.api.id }}" data-lang="{{= it.to || ''}}"></lmk-icon-play>
        {{ } }}
    </lmk-section>
    {{ } }}
    {{ }); }}
    {{ } }}
</lmk-content>
<lmk-footer>
    <lmk-switch title="点击可切换开关" {{ if(!ste.settings.enable) { }} class="lmk-close" {{ } }}>
        <lmk-enable>已开启</lmk-enable>
        <lmk-disable>已关闭</lmk-disable>
    </lmk-switch>
    <lmk-a data-href="{{= it.api.linkToResult.replace('\{\{query\}\}',it.query).replace('\{\{to\}\}',it.to) }}">via {{=
        it.api.name }}
    </lmk-a>
</lmk-footer>

{{ } }}
